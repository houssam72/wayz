{"ast":null,"code":"/**\n * @name MarkerWithLabel for V3\n * @version 1.1.9 [June 30, 2013]\n * @author Gary Little (inspired by code from Marc Ridey of Google).\n * @copyright Copyright 2012 Gary Little [gary at luxcentral.com]\n * @fileoverview MarkerWithLabel extends the Google Maps JavaScript API V3\n *  <code>google.maps.Marker</code> class.\n *  <p>\n *  MarkerWithLabel allows you to define markers with associated labels. As you would expect,\n *  if the marker is draggable, so too will be the label. In addition, a marker with a label\n *  responds to all mouse events in the same manner as a regular marker. It also fires mouse\n *  events and \"property changed\" events just as a regular marker would. Version 1.1 adds\n *  support for the raiseOnDrag feature introduced in API V3.3.\n *  <p>\n *  If you drag a marker by its label, you can cancel the drag and return the marker to its\n *  original position by pressing the <code>Esc</code> key. This doesn't work if you drag the marker\n *  itself because this feature is not (yet) supported in the <code>google.maps.Marker</code> class.\n */\n\n/*!\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *       http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n/*jslint browser:true */\n\n/*global document,google */\n\n/**\n * @param {Function} childCtor Child class.\n * @param {Function} parentCtor Parent class.\n */\nfunction inherits(childCtor, parentCtor) {\n  /** @constructor */\n  function tempCtor() {}\n\n  ;\n  tempCtor.prototype = parentCtor.prototype;\n  childCtor.superClass_ = parentCtor.prototype;\n  childCtor.prototype = new tempCtor();\n  /** @override */\n\n  childCtor.prototype.constructor = childCtor;\n}\n/**\n * @param {Object} gMapsApi The Google Maps API instance (usually `google.maps`)\n * @return {Function} The instantiable MarkerWithLabel class\n */\n\n\nmodule.exports = function (gMapsApi) {\n  /**\n   * This constructor creates a label and associates it with a marker.\n   * It is for the private use of the MarkerWithLabel class.\n   * @constructor\n   * @param {Marker} marker The marker with which the label is to be associated.\n   * @param {string} crossURL The URL of the cross image =.\n   * @param {string} handCursor The URL of the hand cursor.\n   * @private\n   */\n  function MarkerLabel_(marker, crossURL, handCursorURL) {\n    this.marker_ = marker;\n    this.handCursorURL_ = marker.handCursorURL;\n    this.labelDiv_ = document.createElement(\"div\");\n    this.labelDiv_.style.cssText = \"position: absolute; overflow: hidden;\"; // Set up the DIV for handling mouse events in the label. This DIV forms a transparent veil\n    // in the \"overlayMouseTarget\" pane, a veil that covers just the label. This is done so that\n    // events can be captured even if the label is in the shadow of a google.maps.InfoWindow.\n    // Code is included here to ensure the veil is always exactly the same size as the label.\n\n    this.eventDiv_ = document.createElement(\"div\");\n    this.eventDiv_.style.cssText = this.labelDiv_.style.cssText; // This is needed for proper behavior on MSIE:\n\n    this.eventDiv_.addEventListener('selectstart', function () {\n      return false;\n    });\n    this.eventDiv_.addEventListener('dragstart', function () {\n      return false;\n    }); // Get the DIV for the \"X\" to be displayed when the marker is raised.\n\n    this.crossDiv_ = MarkerLabel_.getSharedCross(crossURL);\n  }\n\n  inherits(MarkerLabel_, gMapsApi.OverlayView);\n  /**\n   * Returns the DIV for the cross used when dragging a marker when the\n   * raiseOnDrag parameter set to true. One cross is shared with all markers.\n   * @param {string} crossURL The URL of the cross image =.\n   * @private\n   */\n\n  MarkerLabel_.getSharedCross = function (crossURL) {\n    var div;\n\n    if (typeof MarkerLabel_.getSharedCross.crossDiv === \"undefined\") {\n      div = document.createElement(\"img\");\n      div.style.cssText = \"position: absolute; z-index: 1000002; display: none;\"; // Hopefully Google never changes the standard \"X\" attributes:\n\n      div.style.marginLeft = \"-8px\";\n      div.style.marginTop = \"-9px\";\n      div.src = crossURL;\n      MarkerLabel_.getSharedCross.crossDiv = div;\n    }\n\n    return MarkerLabel_.getSharedCross.crossDiv;\n  };\n  /**\n   * Adds the DIV representing the label to the DOM. This method is called\n   * automatically when the marker's <code>setMap</code> method is called.\n   * @private\n   */\n\n\n  MarkerLabel_.prototype.onAdd = function () {\n    var me = this;\n    var cMouseIsDown = false;\n    var cDraggingLabel = false;\n    var cSavedZIndex;\n    var cLatOffset, cLngOffset;\n    var cIgnoreClick;\n    var cRaiseEnabled;\n    var cStartPosition;\n    var cStartCenter; // Constants:\n\n    var cRaiseOffset = 20;\n    var cDraggingCursor = \"url(\" + this.handCursorURL_ + \")\"; // Stops all processing of an event.\n    //\n\n    var cAbortEvent = function (e) {\n      if (e.preventDefault) {\n        e.preventDefault();\n      }\n\n      e.cancelBubble = true;\n\n      if (e.stopPropagation) {\n        e.stopPropagation();\n      }\n    };\n\n    var cStopBounce = function () {\n      me.marker_.setAnimation(null);\n    };\n\n    this.getPanes().markerLayer.appendChild(this.labelDiv_);\n    this.getPanes().overlayMouseTarget.appendChild(this.eventDiv_); // One cross is shared with all markers, so only add it once:\n\n    if (typeof MarkerLabel_.getSharedCross.processed === \"undefined\") {\n      this.getPanes().markerLayer.appendChild(this.crossDiv_);\n      MarkerLabel_.getSharedCross.processed = true;\n    }\n\n    this.listeners_ = [gMapsApi.event.addDomListener(this.eventDiv_, \"mouseover\", function (e) {\n      if (me.marker_.getDraggable() || me.marker_.getClickable()) {\n        this.style.cursor = \"pointer\";\n        gMapsApi.event.trigger(me.marker_, \"mouseover\", e);\n      }\n    }), gMapsApi.event.addDomListener(this.eventDiv_, \"mouseout\", function (e) {\n      if ((me.marker_.getDraggable() || me.marker_.getClickable()) && !cDraggingLabel) {\n        this.style.cursor = me.marker_.getCursor();\n        gMapsApi.event.trigger(me.marker_, \"mouseout\", e);\n      }\n    }), gMapsApi.event.addDomListener(this.eventDiv_, \"mousedown\", function (e) {\n      cDraggingLabel = false;\n\n      if (me.marker_.getDraggable()) {\n        cMouseIsDown = true;\n        this.style.cursor = cDraggingCursor;\n      }\n\n      if (me.marker_.getDraggable() || me.marker_.getClickable()) {\n        gMapsApi.event.trigger(me.marker_, \"mousedown\", e);\n        cAbortEvent(e); // Prevent map pan when starting a drag on a label\n      }\n    }), gMapsApi.event.addDomListener(document, \"mouseup\", function (mEvent) {\n      var position;\n\n      if (cMouseIsDown) {\n        cMouseIsDown = false;\n        me.eventDiv_.style.cursor = \"pointer\";\n        gMapsApi.event.trigger(me.marker_, \"mouseup\", mEvent);\n      }\n\n      if (cDraggingLabel) {\n        if (cRaiseEnabled) {\n          // Lower the marker & label\n          position = me.getProjection().fromLatLngToDivPixel(me.marker_.getPosition());\n          position.y += cRaiseOffset;\n          me.marker_.setPosition(me.getProjection().fromDivPixelToLatLng(position)); // This is not the same bouncing style as when the marker portion is dragged,\n          // but it will have to do:\n\n          try {\n            // Will fail if running Google Maps API earlier than V3.3\n            me.marker_.setAnimation(gMapsApi.Animation.BOUNCE);\n            setTimeout(cStopBounce, 1406);\n          } catch (e) {}\n        }\n\n        me.crossDiv_.style.display = \"none\";\n        me.marker_.setZIndex(cSavedZIndex);\n        cIgnoreClick = true; // Set flag to ignore the click event reported after a label drag\n\n        cDraggingLabel = false;\n        mEvent.latLng = me.marker_.getPosition();\n        gMapsApi.event.trigger(me.marker_, \"dragend\", mEvent);\n      }\n    }), gMapsApi.event.addListener(me.marker_.getMap(), \"mousemove\", function (mEvent) {\n      var position;\n\n      if (cMouseIsDown) {\n        if (cDraggingLabel) {\n          // Change the reported location from the mouse position to the marker position:\n          mEvent.latLng = new gMapsApi.LatLng(mEvent.latLng.lat() - cLatOffset, mEvent.latLng.lng() - cLngOffset);\n          position = me.getProjection().fromLatLngToDivPixel(mEvent.latLng);\n\n          if (cRaiseEnabled) {\n            me.crossDiv_.style.left = position.x + \"px\";\n            me.crossDiv_.style.top = position.y + \"px\";\n            me.crossDiv_.style.display = \"\";\n            position.y -= cRaiseOffset;\n          }\n\n          me.marker_.setPosition(me.getProjection().fromDivPixelToLatLng(position));\n\n          if (cRaiseEnabled) {\n            // Don't raise the veil; this hack needed to make MSIE act properly\n            me.eventDiv_.style.top = position.y + cRaiseOffset + \"px\";\n          }\n\n          gMapsApi.event.trigger(me.marker_, \"drag\", mEvent);\n        } else {\n          // Calculate offsets from the click point to the marker position:\n          cLatOffset = mEvent.latLng.lat() - me.marker_.getPosition().lat();\n          cLngOffset = mEvent.latLng.lng() - me.marker_.getPosition().lng();\n          cSavedZIndex = me.marker_.getZIndex();\n          cStartPosition = me.marker_.getPosition();\n          cStartCenter = me.marker_.getMap().getCenter();\n          cRaiseEnabled = me.marker_.get(\"raiseOnDrag\");\n          cDraggingLabel = true;\n          me.marker_.setZIndex(1000000); // Moves the marker & label to the foreground during a drag\n\n          mEvent.latLng = me.marker_.getPosition();\n          gMapsApi.event.trigger(me.marker_, \"dragstart\", mEvent);\n        }\n      }\n    }), gMapsApi.event.addDomListener(document, \"keydown\", function (e) {\n      if (cDraggingLabel) {\n        if (e.keyCode === 27) {\n          // Esc key\n          cRaiseEnabled = false;\n          me.marker_.setPosition(cStartPosition);\n          me.marker_.getMap().setCenter(cStartCenter);\n          gMapsApi.event.trigger(document, \"mouseup\", e);\n        }\n      }\n    }), gMapsApi.event.addDomListener(this.eventDiv_, \"click\", function (e) {\n      if (me.marker_.getDraggable() || me.marker_.getClickable()) {\n        if (cIgnoreClick) {\n          // Ignore the click reported when a label drag ends\n          cIgnoreClick = false;\n        } else {\n          gMapsApi.event.trigger(me.marker_, \"click\", e);\n          cAbortEvent(e); // Prevent click from being passed on to map\n        }\n      }\n    }), gMapsApi.event.addDomListener(this.eventDiv_, \"dblclick\", function (e) {\n      if (me.marker_.getDraggable() || me.marker_.getClickable()) {\n        gMapsApi.event.trigger(me.marker_, \"dblclick\", e);\n        cAbortEvent(e); // Prevent map zoom when double-clicking on a label\n      }\n    }), gMapsApi.event.addListener(this.marker_, \"dragstart\", function (mEvent) {\n      if (!cDraggingLabel) {\n        cRaiseEnabled = this.get(\"raiseOnDrag\");\n      }\n    }), gMapsApi.event.addListener(this.marker_, \"drag\", function (mEvent) {\n      if (!cDraggingLabel) {\n        if (cRaiseEnabled) {\n          me.setPosition(cRaiseOffset); // During a drag, the marker's z-index is temporarily set to 1000000 to\n          // ensure it appears above all other markers. Also set the label's z-index\n          // to 1000000 (plus or minus 1 depending on whether the label is supposed\n          // to be above or below the marker).\n\n          me.labelDiv_.style.zIndex = 1000000 + (this.get(\"labelInBackground\") ? -1 : +1);\n        }\n      }\n    }), gMapsApi.event.addListener(this.marker_, \"dragend\", function (mEvent) {\n      if (!cDraggingLabel) {\n        if (cRaiseEnabled) {\n          me.setPosition(0); // Also restores z-index of label\n        }\n      }\n    }), gMapsApi.event.addListener(this.marker_, \"position_changed\", function () {\n      me.setPosition();\n    }), gMapsApi.event.addListener(this.marker_, \"zindex_changed\", function () {\n      me.setZIndex();\n    }), gMapsApi.event.addListener(this.marker_, \"visible_changed\", function () {\n      me.setVisible();\n    }), gMapsApi.event.addListener(this.marker_, \"labelvisible_changed\", function () {\n      me.setVisible();\n    }), gMapsApi.event.addListener(this.marker_, \"title_changed\", function () {\n      me.setTitle();\n    }), gMapsApi.event.addListener(this.marker_, \"labelcontent_changed\", function () {\n      me.setContent();\n    }), gMapsApi.event.addListener(this.marker_, \"labelanchor_changed\", function () {\n      me.setAnchor();\n    }), gMapsApi.event.addListener(this.marker_, \"labelclass_changed\", function () {\n      me.setStyles();\n    }), gMapsApi.event.addListener(this.marker_, \"labelstyle_changed\", function () {\n      me.setStyles();\n    })];\n  };\n  /**\n   * Removes the DIV for the label from the DOM. It also removes all event handlers.\n   * This method is called automatically when the marker's <code>setMap(null)</code>\n   * method is called.\n   * @private\n   */\n\n\n  MarkerLabel_.prototype.onRemove = function () {\n    var i;\n\n    if (this.labelDiv_.parentNode) {\n      this.labelDiv_.parentNode.removeChild(this.labelDiv_);\n      this.eventDiv_.parentNode.removeChild(this.eventDiv_);\n    } // Remove event listeners:\n\n\n    if (this.listeners_) {\n      for (i = 0; i < this.listeners_.length; i++) {\n        gMapsApi.event.removeListener(this.listeners_[i]);\n      }\n    }\n  };\n  /**\n   * Draws the label on the map.\n   * @private\n   */\n\n\n  MarkerLabel_.prototype.draw = function () {\n    this.setContent();\n    this.setTitle();\n    this.setStyles();\n  };\n  /**\n   * Sets the content of the label.\n   * The content can be plain text or an HTML DOM node.\n   * @private\n   */\n\n\n  MarkerLabel_.prototype.setContent = function () {\n    var content = this.marker_.get(\"labelContent\");\n\n    if (typeof content.nodeType === \"undefined\") {\n      this.labelDiv_.innerHTML = content;\n      this.eventDiv_.innerHTML = this.labelDiv_.innerHTML;\n    } else {\n      // Remove current content\n      while (this.labelDiv_.lastChild) {\n        this.labelDiv_.removeChild(this.labelDiv_.lastChild);\n      }\n\n      while (this.eventDiv_.lastChild) {\n        this.eventDiv_.removeChild(this.eventDiv_.lastChild);\n      }\n\n      this.labelDiv_.appendChild(content);\n      content = content.cloneNode(true);\n      this.eventDiv_.appendChild(content);\n    }\n  };\n  /**\n   * Sets the content of the tool tip for the label. It is\n   * always set to be the same as for the marker itself.\n   * @private\n   */\n\n\n  MarkerLabel_.prototype.setTitle = function () {\n    this.eventDiv_.title = this.marker_.getTitle() || \"\";\n  };\n  /**\n   * Sets the style of the label by setting the style sheet and applying\n   * other specific styles requested.\n   * @private\n   */\n\n\n  MarkerLabel_.prototype.setStyles = function () {\n    var i, labelStyle; // Apply style values from the style sheet defined in the labelClass parameter:\n\n    this.labelDiv_.className = this.marker_.get(\"labelClass\");\n    this.eventDiv_.className = this.labelDiv_.className; // Clear existing inline style values:\n\n    this.labelDiv_.style.cssText = \"\";\n    this.eventDiv_.style.cssText = \"\"; // Apply style values defined in the labelStyle parameter:\n\n    labelStyle = this.marker_.get(\"labelStyle\");\n\n    for (i in labelStyle) {\n      if (labelStyle.hasOwnProperty(i)) {\n        this.labelDiv_.style[i] = labelStyle[i];\n        this.eventDiv_.style[i] = labelStyle[i];\n      }\n    }\n\n    this.setMandatoryStyles();\n  };\n  /**\n   * Sets the mandatory styles to the DIV representing the label as well as to the\n   * associated event DIV. This includes setting the DIV position, z-index, and visibility.\n   * @private\n   */\n\n\n  MarkerLabel_.prototype.setMandatoryStyles = function () {\n    this.labelDiv_.style.position = \"absolute\";\n    this.labelDiv_.style.overflow = \"hidden\"; // Make sure the opacity setting causes the desired effect on MSIE:\n\n    if (typeof this.labelDiv_.style.opacity !== \"undefined\" && this.labelDiv_.style.opacity !== \"\") {\n      this.labelDiv_.style.MsFilter = \"\\\"progid:DXImageTransform.Microsoft.Alpha(opacity=\" + this.labelDiv_.style.opacity * 100 + \")\\\"\";\n      this.labelDiv_.style.filter = \"alpha(opacity=\" + this.labelDiv_.style.opacity * 100 + \")\";\n    }\n\n    this.eventDiv_.style.position = this.labelDiv_.style.position;\n    this.eventDiv_.style.overflow = this.labelDiv_.style.overflow;\n    this.eventDiv_.style.opacity = 0.01; // Don't use 0; DIV won't be clickable on MSIE\n\n    this.eventDiv_.style.MsFilter = \"\\\"progid:DXImageTransform.Microsoft.Alpha(opacity=1)\\\"\";\n    this.eventDiv_.style.filter = \"alpha(opacity=1)\"; // For MSIE\n\n    this.setAnchor();\n    this.setPosition(); // This also updates z-index, if necessary.\n\n    this.setVisible();\n  };\n  /**\n   * Sets the anchor point of the label.\n   * @private\n   */\n\n\n  MarkerLabel_.prototype.setAnchor = function () {\n    var anchor = this.marker_.get(\"labelAnchor\");\n    this.labelDiv_.style.marginLeft = -anchor.x + \"px\";\n    this.labelDiv_.style.marginTop = -anchor.y + \"px\";\n    this.eventDiv_.style.marginLeft = -anchor.x + \"px\";\n    this.eventDiv_.style.marginTop = -anchor.y + \"px\";\n  };\n  /**\n   * Sets the position of the label. The z-index is also updated, if necessary.\n   * @private\n   */\n\n\n  MarkerLabel_.prototype.setPosition = function (yOffset) {\n    var position = this.getProjection().fromLatLngToDivPixel(this.marker_.getPosition());\n\n    if (typeof yOffset === \"undefined\") {\n      yOffset = 0;\n    }\n\n    this.labelDiv_.style.left = Math.round(position.x) + \"px\";\n    this.labelDiv_.style.top = Math.round(position.y - yOffset) + \"px\";\n    this.eventDiv_.style.left = this.labelDiv_.style.left;\n    this.eventDiv_.style.top = this.labelDiv_.style.top;\n    this.setZIndex();\n  };\n  /**\n   * Sets the z-index of the label. If the marker's z-index property has not been defined, the z-index\n   * of the label is set to the vertical coordinate of the label. This is in keeping with the default\n   * stacking order for Google Maps: markers to the south are in front of markers to the north.\n   * @private\n   */\n\n\n  MarkerLabel_.prototype.setZIndex = function () {\n    var zAdjust = this.marker_.get(\"labelInBackground\") ? -1 : +1;\n\n    if (typeof this.marker_.getZIndex() === \"undefined\") {\n      this.labelDiv_.style.zIndex = parseInt(this.labelDiv_.style.top, 10) + zAdjust;\n      this.eventDiv_.style.zIndex = this.labelDiv_.style.zIndex;\n    } else {\n      this.labelDiv_.style.zIndex = this.marker_.getZIndex() + zAdjust;\n      this.eventDiv_.style.zIndex = this.labelDiv_.style.zIndex;\n    }\n  };\n  /**\n   * Sets the visibility of the label. The label is visible only if the marker itself is\n   * visible (i.e., its visible property is true) and the labelVisible property is true.\n   * @private\n   */\n\n\n  MarkerLabel_.prototype.setVisible = function () {\n    if (this.marker_.get(\"labelVisible\")) {\n      this.labelDiv_.style.display = this.marker_.getVisible() ? \"block\" : \"none\";\n    } else {\n      this.labelDiv_.style.display = \"none\";\n    }\n\n    this.eventDiv_.style.display = this.labelDiv_.style.display;\n  };\n  /**\n   * @name MarkerWithLabelOptions\n   * @class This class represents the optional parameter passed to the {@link MarkerWithLabel} constructor.\n   *  The properties available are the same as for <code>google.maps.Marker</code> with the addition\n   *  of the properties listed below. To change any of these additional properties after the labeled\n   *  marker has been created, call <code>google.maps.Marker.set(propertyName, propertyValue)</code>.\n   *  <p>\n   *  When any of these properties changes, a property changed event is fired. The names of these\n   *  events are derived from the name of the property and are of the form <code>propertyname_changed</code>.\n   *  For example, if the content of the label changes, a <code>labelcontent_changed</code> event\n   *  is fired.\n   *  <p>\n   * @property {string|Node} [labelContent] The content of the label (plain text or an HTML DOM node).\n   * @property {Point} [labelAnchor] By default, a label is drawn with its anchor point at (0,0) so\n   *  that its top left corner is positioned at the anchor point of the associated marker. Use this\n   *  property to change the anchor point of the label. For example, to center a 50px-wide label\n   *  beneath a marker, specify a <code>labelAnchor</code> of <code>google.maps.Point(25, 0)</code>.\n   *  (Note: x-values increase to the right and y-values increase to the top.)\n   * @property {string} [labelClass] The name of the CSS class defining the styles for the label.\n   *  Note that style values for <code>position</code>, <code>overflow</code>, <code>top</code>,\n   *  <code>left</code>, <code>zIndex</code>, <code>display</code>, <code>marginLeft</code>, and\n   *  <code>marginTop</code> are ignored; these styles are for internal use only.\n   * @property {Object} [labelStyle] An object literal whose properties define specific CSS\n   *  style values to be applied to the label. Style values defined here override those that may\n   *  be defined in the <code>labelClass</code> style sheet. If this property is changed after the\n   *  label has been created, all previously set styles (except those defined in the style sheet)\n   *  are removed from the label before the new style values are applied.\n   *  Note that style values for <code>position</code>, <code>overflow</code>, <code>top</code>,\n   *  <code>left</code>, <code>zIndex</code>, <code>display</code>, <code>marginLeft</code>, and\n   *  <code>marginTop</code> are ignored; these styles are for internal use only.\n   * @property {boolean} [labelInBackground] A flag indicating whether a label that overlaps its\n   *  associated marker should appear in the background (i.e., in a plane below the marker).\n   *  The default is <code>false</code>, which causes the label to appear in the foreground.\n   * @property {boolean} [labelVisible] A flag indicating whether the label is to be visible.\n   *  The default is <code>true</code>. Note that even if <code>labelVisible</code> is\n   *  <code>true</code>, the label will <i>not</i> be visible unless the associated marker is also\n   *  visible (i.e., unless the marker's <code>visible</code> property is <code>true</code>).\n   * @property {boolean} [raiseOnDrag] A flag indicating whether the label and marker are to be\n   *  raised when the marker is dragged. The default is <code>true</code>. If a draggable marker is\n   *  being created and a version of Google Maps API earlier than V3.3 is being used, this property\n   *  must be set to <code>false</code>.\n   * @property {boolean} [optimized] A flag indicating whether rendering is to be optimized for the\n   *  marker. <b>Important: The optimized rendering technique is not supported by MarkerWithLabel,\n   *  so the value of this parameter is always forced to <code>false</code>.\n   * @property {string} [crossImage=\"http://maps.gstatic.com/intl/en_us/mapfiles/drag_cross_67_16.png\"]\n   *  The URL of the cross image to be displayed while dragging a marker.\n   * @property {string} [handCursor=\"http://maps.gstatic.com/intl/en_us/mapfiles/closedhand_8_8.cur\"]\n   *  The URL of the cursor to be displayed while dragging a marker.\n   */\n\n  /**\n   * Creates a MarkerWithLabel with the options specified in {@link MarkerWithLabelOptions}.\n   * @constructor\n   * @param {MarkerWithLabelOptions} [opt_options] The optional parameters.\n   */\n\n\n  function MarkerWithLabel(opt_options) {\n    opt_options = opt_options || {};\n    opt_options.labelContent = opt_options.labelContent || \"\";\n    opt_options.labelAnchor = opt_options.labelAnchor || new gMapsApi.Point(0, 0);\n    opt_options.labelClass = opt_options.labelClass || \"markerLabels\";\n    opt_options.labelStyle = opt_options.labelStyle || {};\n    opt_options.labelInBackground = opt_options.labelInBackground || false;\n\n    if (typeof opt_options.labelVisible === \"undefined\") {\n      opt_options.labelVisible = true;\n    }\n\n    if (typeof opt_options.raiseOnDrag === \"undefined\") {\n      opt_options.raiseOnDrag = true;\n    }\n\n    if (typeof opt_options.clickable === \"undefined\") {\n      opt_options.clickable = true;\n    }\n\n    if (typeof opt_options.draggable === \"undefined\") {\n      opt_options.draggable = false;\n    }\n\n    if (typeof opt_options.optimized === \"undefined\") {\n      opt_options.optimized = false;\n    }\n\n    opt_options.crossImage = opt_options.crossImage || \"http\" + (document.location.protocol === \"https:\" ? \"s\" : \"\") + \"://maps.gstatic.com/intl/en_us/mapfiles/drag_cross_67_16.png\";\n    opt_options.handCursor = opt_options.handCursor || \"http\" + (document.location.protocol === \"https:\" ? \"s\" : \"\") + \"://maps.gstatic.com/intl/en_us/mapfiles/closedhand_8_8.cur\";\n    opt_options.optimized = false; // Optimized rendering is not supported\n\n    this.label = new MarkerLabel_(this, opt_options.crossImage, opt_options.handCursor); // Bind the label to the marker\n    // Call the parent constructor. It calls Marker.setValues to initialize, so all\n    // the new parameters are conveniently saved and can be accessed with get/set.\n    // Marker.set triggers a property changed event (called \"propertyname_changed\")\n    // that the marker label listens for in order to react to state changes.\n\n    gMapsApi.Marker.apply(this, arguments);\n  }\n\n  inherits(MarkerWithLabel, gMapsApi.Marker);\n  /**\n   * Overrides the standard Marker setMap function.\n   * @param {Map} theMap The map to which the marker is to be added.\n   * @private\n   */\n\n  MarkerWithLabel.prototype.setMap = function (theMap) {\n    // Call the inherited function...\n    gMapsApi.Marker.prototype.setMap.apply(this, arguments); // ... then deal with the label:\n\n    this.label.setMap(theMap);\n  };\n\n  return MarkerWithLabel;\n};","map":{"version":3,"sources":["C:/Users/houss/desktop/wayz/node_modules/markerwithlabel/index.js"],"names":["inherits","childCtor","parentCtor","tempCtor","prototype","superClass_","constructor","module","exports","gMapsApi","MarkerLabel_","marker","crossURL","handCursorURL","marker_","handCursorURL_","labelDiv_","document","createElement","style","cssText","eventDiv_","addEventListener","crossDiv_","getSharedCross","OverlayView","div","crossDiv","marginLeft","marginTop","src","onAdd","me","cMouseIsDown","cDraggingLabel","cSavedZIndex","cLatOffset","cLngOffset","cIgnoreClick","cRaiseEnabled","cStartPosition","cStartCenter","cRaiseOffset","cDraggingCursor","cAbortEvent","e","preventDefault","cancelBubble","stopPropagation","cStopBounce","setAnimation","getPanes","markerLayer","appendChild","overlayMouseTarget","processed","listeners_","event","addDomListener","getDraggable","getClickable","cursor","trigger","getCursor","mEvent","position","getProjection","fromLatLngToDivPixel","getPosition","y","setPosition","fromDivPixelToLatLng","Animation","BOUNCE","setTimeout","display","setZIndex","latLng","addListener","getMap","LatLng","lat","lng","left","x","top","getZIndex","getCenter","get","keyCode","setCenter","zIndex","setVisible","setTitle","setContent","setAnchor","setStyles","onRemove","i","parentNode","removeChild","length","removeListener","draw","content","nodeType","innerHTML","lastChild","cloneNode","title","getTitle","labelStyle","className","hasOwnProperty","setMandatoryStyles","overflow","opacity","MsFilter","filter","anchor","yOffset","Math","round","zAdjust","parseInt","getVisible","MarkerWithLabel","opt_options","labelContent","labelAnchor","Point","labelClass","labelInBackground","labelVisible","raiseOnDrag","clickable","draggable","optimized","crossImage","location","protocol","handCursor","label","Marker","apply","arguments","setMap","theMap"],"mappings":"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","sourcesContent":["/**\n * @name MarkerWithLabel for V3\n * @version 1.1.9 [June 30, 2013]\n * @author Gary Little (inspired by code from Marc Ridey of Google).\n * @copyright Copyright 2012 Gary Little [gary at luxcentral.com]\n * @fileoverview MarkerWithLabel extends the Google Maps JavaScript API V3\n *  <code>google.maps.Marker</code> class.\n *  <p>\n *  MarkerWithLabel allows you to define markers with associated labels. As you would expect,\n *  if the marker is draggable, so too will be the label. In addition, a marker with a label\n *  responds to all mouse events in the same manner as a regular marker. It also fires mouse\n *  events and \"property changed\" events just as a regular marker would. Version 1.1 adds\n *  support for the raiseOnDrag feature introduced in API V3.3.\n *  <p>\n *  If you drag a marker by its label, you can cancel the drag and return the marker to its\n *  original position by pressing the <code>Esc</code> key. This doesn't work if you drag the marker\n *  itself because this feature is not (yet) supported in the <code>google.maps.Marker</code> class.\n */\n\n/*!\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *       http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n/*jslint browser:true */\n/*global document,google */\n\n/**\n * @param {Function} childCtor Child class.\n * @param {Function} parentCtor Parent class.\n */\nfunction inherits(childCtor, parentCtor) {\n  /** @constructor */\n  function tempCtor() {};\n  tempCtor.prototype = parentCtor.prototype;\n  childCtor.superClass_ = parentCtor.prototype;\n  childCtor.prototype = new tempCtor();\n  /** @override */\n  childCtor.prototype.constructor = childCtor;\n}\n\n/**\n * @param {Object} gMapsApi The Google Maps API instance (usually `google.maps`)\n * @return {Function} The instantiable MarkerWithLabel class\n */\nmodule.exports = function(gMapsApi) {\n\n  /**\n   * This constructor creates a label and associates it with a marker.\n   * It is for the private use of the MarkerWithLabel class.\n   * @constructor\n   * @param {Marker} marker The marker with which the label is to be associated.\n   * @param {string} crossURL The URL of the cross image =.\n   * @param {string} handCursor The URL of the hand cursor.\n   * @private\n   */\n  function MarkerLabel_(marker, crossURL, handCursorURL) {\n    this.marker_ = marker;\n    this.handCursorURL_ = marker.handCursorURL;\n\n    this.labelDiv_ = document.createElement(\"div\");\n    this.labelDiv_.style.cssText = \"position: absolute; overflow: hidden;\";\n\n    // Set up the DIV for handling mouse events in the label. This DIV forms a transparent veil\n    // in the \"overlayMouseTarget\" pane, a veil that covers just the label. This is done so that\n    // events can be captured even if the label is in the shadow of a google.maps.InfoWindow.\n    // Code is included here to ensure the veil is always exactly the same size as the label.\n    this.eventDiv_ = document.createElement(\"div\");\n    this.eventDiv_.style.cssText = this.labelDiv_.style.cssText;\n\n    // This is needed for proper behavior on MSIE:\n    this.eventDiv_.addEventListener('selectstart', function() { return false; });\n    this.eventDiv_.addEventListener('dragstart', function() { return false; });\n\n    // Get the DIV for the \"X\" to be displayed when the marker is raised.\n    this.crossDiv_ = MarkerLabel_.getSharedCross(crossURL);\n  }\n  inherits(MarkerLabel_, gMapsApi.OverlayView);\n\n  /**\n   * Returns the DIV for the cross used when dragging a marker when the\n   * raiseOnDrag parameter set to true. One cross is shared with all markers.\n   * @param {string} crossURL The URL of the cross image =.\n   * @private\n   */\n  MarkerLabel_.getSharedCross = function (crossURL) {\n    var div;\n    if (typeof MarkerLabel_.getSharedCross.crossDiv === \"undefined\") {\n      div = document.createElement(\"img\");\n      div.style.cssText = \"position: absolute; z-index: 1000002; display: none;\";\n      // Hopefully Google never changes the standard \"X\" attributes:\n      div.style.marginLeft = \"-8px\";\n      div.style.marginTop = \"-9px\";\n      div.src = crossURL;\n      MarkerLabel_.getSharedCross.crossDiv = div;\n    }\n    return MarkerLabel_.getSharedCross.crossDiv;\n  };\n\n  /**\n   * Adds the DIV representing the label to the DOM. This method is called\n   * automatically when the marker's <code>setMap</code> method is called.\n   * @private\n   */\n  MarkerLabel_.prototype.onAdd = function () {\n    var me = this;\n    var cMouseIsDown = false;\n    var cDraggingLabel = false;\n    var cSavedZIndex;\n    var cLatOffset, cLngOffset;\n    var cIgnoreClick;\n    var cRaiseEnabled;\n    var cStartPosition;\n    var cStartCenter;\n    // Constants:\n    var cRaiseOffset = 20;\n    var cDraggingCursor = \"url(\" + this.handCursorURL_ + \")\";\n\n    // Stops all processing of an event.\n    //\n    var cAbortEvent = function (e) {\n      if (e.preventDefault) {\n        e.preventDefault();\n      }\n      e.cancelBubble = true;\n      if (e.stopPropagation) {\n        e.stopPropagation();\n      }\n    };\n\n    var cStopBounce = function () {\n      me.marker_.setAnimation(null);\n    };\n\n    this.getPanes().markerLayer.appendChild(this.labelDiv_);\n    this.getPanes().overlayMouseTarget.appendChild(this.eventDiv_);\n    // One cross is shared with all markers, so only add it once:\n    if (typeof MarkerLabel_.getSharedCross.processed === \"undefined\") {\n      this.getPanes().markerLayer.appendChild(this.crossDiv_);\n      MarkerLabel_.getSharedCross.processed = true;\n    }\n\n    this.listeners_ = [\n      gMapsApi.event.addDomListener(this.eventDiv_, \"mouseover\", function (e) {\n        if (me.marker_.getDraggable() || me.marker_.getClickable()) {\n          this.style.cursor = \"pointer\";\n          gMapsApi.event.trigger(me.marker_, \"mouseover\", e);\n        }\n      }),\n      gMapsApi.event.addDomListener(this.eventDiv_, \"mouseout\", function (e) {\n        if ((me.marker_.getDraggable() || me.marker_.getClickable()) && !cDraggingLabel) {\n          this.style.cursor = me.marker_.getCursor();\n          gMapsApi.event.trigger(me.marker_, \"mouseout\", e);\n        }\n      }),\n      gMapsApi.event.addDomListener(this.eventDiv_, \"mousedown\", function (e) {\n        cDraggingLabel = false;\n        if (me.marker_.getDraggable()) {\n          cMouseIsDown = true;\n          this.style.cursor = cDraggingCursor;\n        }\n        if (me.marker_.getDraggable() || me.marker_.getClickable()) {\n          gMapsApi.event.trigger(me.marker_, \"mousedown\", e);\n          cAbortEvent(e); // Prevent map pan when starting a drag on a label\n        }\n      }),\n      gMapsApi.event.addDomListener(document, \"mouseup\", function (mEvent) {\n        var position;\n        if (cMouseIsDown) {\n          cMouseIsDown = false;\n          me.eventDiv_.style.cursor = \"pointer\";\n          gMapsApi.event.trigger(me.marker_, \"mouseup\", mEvent);\n        }\n        if (cDraggingLabel) {\n          if (cRaiseEnabled) { // Lower the marker & label\n            position = me.getProjection().fromLatLngToDivPixel(me.marker_.getPosition());\n            position.y += cRaiseOffset;\n            me.marker_.setPosition(me.getProjection().fromDivPixelToLatLng(position));\n            // This is not the same bouncing style as when the marker portion is dragged,\n            // but it will have to do:\n            try { // Will fail if running Google Maps API earlier than V3.3\n              me.marker_.setAnimation(gMapsApi.Animation.BOUNCE);\n              setTimeout(cStopBounce, 1406);\n            } catch (e) {}\n          }\n          me.crossDiv_.style.display = \"none\";\n          me.marker_.setZIndex(cSavedZIndex);\n          cIgnoreClick = true; // Set flag to ignore the click event reported after a label drag\n          cDraggingLabel = false;\n          mEvent.latLng = me.marker_.getPosition();\n          gMapsApi.event.trigger(me.marker_, \"dragend\", mEvent);\n        }\n      }),\n      gMapsApi.event.addListener(me.marker_.getMap(), \"mousemove\", function (mEvent) {\n        var position;\n        if (cMouseIsDown) {\n          if (cDraggingLabel) {\n            // Change the reported location from the mouse position to the marker position:\n            mEvent.latLng = new gMapsApi.LatLng(mEvent.latLng.lat() - cLatOffset, mEvent.latLng.lng() - cLngOffset);\n            position = me.getProjection().fromLatLngToDivPixel(mEvent.latLng);\n            if (cRaiseEnabled) {\n              me.crossDiv_.style.left = position.x + \"px\";\n              me.crossDiv_.style.top = position.y + \"px\";\n              me.crossDiv_.style.display = \"\";\n              position.y -= cRaiseOffset;\n            }\n            me.marker_.setPosition(me.getProjection().fromDivPixelToLatLng(position));\n            if (cRaiseEnabled) { // Don't raise the veil; this hack needed to make MSIE act properly\n              me.eventDiv_.style.top = (position.y + cRaiseOffset) + \"px\";\n            }\n            gMapsApi.event.trigger(me.marker_, \"drag\", mEvent);\n          } else {\n            // Calculate offsets from the click point to the marker position:\n            cLatOffset = mEvent.latLng.lat() - me.marker_.getPosition().lat();\n            cLngOffset = mEvent.latLng.lng() - me.marker_.getPosition().lng();\n            cSavedZIndex = me.marker_.getZIndex();\n            cStartPosition = me.marker_.getPosition();\n            cStartCenter = me.marker_.getMap().getCenter();\n            cRaiseEnabled = me.marker_.get(\"raiseOnDrag\");\n            cDraggingLabel = true;\n            me.marker_.setZIndex(1000000); // Moves the marker & label to the foreground during a drag\n            mEvent.latLng = me.marker_.getPosition();\n            gMapsApi.event.trigger(me.marker_, \"dragstart\", mEvent);\n          }\n        }\n      }),\n      gMapsApi.event.addDomListener(document, \"keydown\", function (e) {\n        if (cDraggingLabel) {\n          if (e.keyCode === 27) { // Esc key\n            cRaiseEnabled = false;\n            me.marker_.setPosition(cStartPosition);\n            me.marker_.getMap().setCenter(cStartCenter);\n            gMapsApi.event.trigger(document, \"mouseup\", e);\n          }\n        }\n      }),\n      gMapsApi.event.addDomListener(this.eventDiv_, \"click\", function (e) {\n        if (me.marker_.getDraggable() || me.marker_.getClickable()) {\n          if (cIgnoreClick) { // Ignore the click reported when a label drag ends\n            cIgnoreClick = false;\n          } else {\n            gMapsApi.event.trigger(me.marker_, \"click\", e);\n            cAbortEvent(e); // Prevent click from being passed on to map\n          }\n        }\n      }),\n      gMapsApi.event.addDomListener(this.eventDiv_, \"dblclick\", function (e) {\n        if (me.marker_.getDraggable() || me.marker_.getClickable()) {\n          gMapsApi.event.trigger(me.marker_, \"dblclick\", e);\n          cAbortEvent(e); // Prevent map zoom when double-clicking on a label\n        }\n      }),\n      gMapsApi.event.addListener(this.marker_, \"dragstart\", function (mEvent) {\n        if (!cDraggingLabel) {\n          cRaiseEnabled = this.get(\"raiseOnDrag\");\n        }\n      }),\n      gMapsApi.event.addListener(this.marker_, \"drag\", function (mEvent) {\n        if (!cDraggingLabel) {\n          if (cRaiseEnabled) {\n            me.setPosition(cRaiseOffset);\n            // During a drag, the marker's z-index is temporarily set to 1000000 to\n            // ensure it appears above all other markers. Also set the label's z-index\n            // to 1000000 (plus or minus 1 depending on whether the label is supposed\n            // to be above or below the marker).\n            me.labelDiv_.style.zIndex = 1000000 + (this.get(\"labelInBackground\") ? -1 : +1);\n          }\n        }\n      }),\n      gMapsApi.event.addListener(this.marker_, \"dragend\", function (mEvent) {\n        if (!cDraggingLabel) {\n          if (cRaiseEnabled) {\n            me.setPosition(0); // Also restores z-index of label\n          }\n        }\n      }),\n      gMapsApi.event.addListener(this.marker_, \"position_changed\", function () {\n        me.setPosition();\n      }),\n      gMapsApi.event.addListener(this.marker_, \"zindex_changed\", function () {\n        me.setZIndex();\n      }),\n      gMapsApi.event.addListener(this.marker_, \"visible_changed\", function () {\n        me.setVisible();\n      }),\n      gMapsApi.event.addListener(this.marker_, \"labelvisible_changed\", function () {\n        me.setVisible();\n      }),\n      gMapsApi.event.addListener(this.marker_, \"title_changed\", function () {\n        me.setTitle();\n      }),\n      gMapsApi.event.addListener(this.marker_, \"labelcontent_changed\", function () {\n        me.setContent();\n      }),\n      gMapsApi.event.addListener(this.marker_, \"labelanchor_changed\", function () {\n        me.setAnchor();\n      }),\n      gMapsApi.event.addListener(this.marker_, \"labelclass_changed\", function () {\n        me.setStyles();\n      }),\n      gMapsApi.event.addListener(this.marker_, \"labelstyle_changed\", function () {\n        me.setStyles();\n      })\n    ];\n  };\n\n  /**\n   * Removes the DIV for the label from the DOM. It also removes all event handlers.\n   * This method is called automatically when the marker's <code>setMap(null)</code>\n   * method is called.\n   * @private\n   */\n  MarkerLabel_.prototype.onRemove = function () {\n    var i;\n    if (this.labelDiv_.parentNode) {\n      this.labelDiv_.parentNode.removeChild(this.labelDiv_);\n      this.eventDiv_.parentNode.removeChild(this.eventDiv_);\n    }\n    \n    // Remove event listeners:\n    if (this.listeners_) {\n      for (i = 0; i < this.listeners_.length; i++) {\n        gMapsApi.event.removeListener(this.listeners_[i]);\n      }\n    }\n  };\n\n  /**\n   * Draws the label on the map.\n   * @private\n   */\n  MarkerLabel_.prototype.draw = function () {\n    this.setContent();\n    this.setTitle();\n    this.setStyles();\n  };\n\n  /**\n   * Sets the content of the label.\n   * The content can be plain text or an HTML DOM node.\n   * @private\n   */\n  MarkerLabel_.prototype.setContent = function () {\n    var content = this.marker_.get(\"labelContent\");\n    if (typeof content.nodeType === \"undefined\") {\n      this.labelDiv_.innerHTML = content;\n      this.eventDiv_.innerHTML = this.labelDiv_.innerHTML;\n    } else {\n      // Remove current content\n      while (this.labelDiv_.lastChild) {\n        this.labelDiv_.removeChild(this.labelDiv_.lastChild);\n      }\n\n      while (this.eventDiv_.lastChild) {\n        this.eventDiv_.removeChild(this.eventDiv_.lastChild);\n      }\n\n      this.labelDiv_.appendChild(content);\n      content = content.cloneNode(true);\n      this.eventDiv_.appendChild(content);\n    }\n  };\n\n  /**\n   * Sets the content of the tool tip for the label. It is\n   * always set to be the same as for the marker itself.\n   * @private\n   */\n  MarkerLabel_.prototype.setTitle = function () {\n    this.eventDiv_.title = this.marker_.getTitle() || \"\";\n  };\n\n  /**\n   * Sets the style of the label by setting the style sheet and applying\n   * other specific styles requested.\n   * @private\n   */\n  MarkerLabel_.prototype.setStyles = function () {\n    var i, labelStyle;\n\n    // Apply style values from the style sheet defined in the labelClass parameter:\n    this.labelDiv_.className = this.marker_.get(\"labelClass\");\n    this.eventDiv_.className = this.labelDiv_.className;\n\n    // Clear existing inline style values:\n    this.labelDiv_.style.cssText = \"\";\n    this.eventDiv_.style.cssText = \"\";\n    // Apply style values defined in the labelStyle parameter:\n    labelStyle = this.marker_.get(\"labelStyle\");\n    for (i in labelStyle) {\n      if (labelStyle.hasOwnProperty(i)) {\n        this.labelDiv_.style[i] = labelStyle[i];\n        this.eventDiv_.style[i] = labelStyle[i];\n      }\n    }\n    this.setMandatoryStyles();\n  };\n\n  /**\n   * Sets the mandatory styles to the DIV representing the label as well as to the\n   * associated event DIV. This includes setting the DIV position, z-index, and visibility.\n   * @private\n   */\n  MarkerLabel_.prototype.setMandatoryStyles = function () {\n    this.labelDiv_.style.position = \"absolute\";\n    this.labelDiv_.style.overflow = \"hidden\";\n    // Make sure the opacity setting causes the desired effect on MSIE:\n    if (typeof this.labelDiv_.style.opacity !== \"undefined\" && this.labelDiv_.style.opacity !== \"\") {\n      this.labelDiv_.style.MsFilter = \"\\\"progid:DXImageTransform.Microsoft.Alpha(opacity=\" + (this.labelDiv_.style.opacity * 100) + \")\\\"\";\n      this.labelDiv_.style.filter = \"alpha(opacity=\" + (this.labelDiv_.style.opacity * 100) + \")\";\n    }\n\n    this.eventDiv_.style.position = this.labelDiv_.style.position;\n    this.eventDiv_.style.overflow = this.labelDiv_.style.overflow;\n    this.eventDiv_.style.opacity = 0.01; // Don't use 0; DIV won't be clickable on MSIE\n    this.eventDiv_.style.MsFilter = \"\\\"progid:DXImageTransform.Microsoft.Alpha(opacity=1)\\\"\";\n    this.eventDiv_.style.filter = \"alpha(opacity=1)\"; // For MSIE\n\n    this.setAnchor();\n    this.setPosition(); // This also updates z-index, if necessary.\n    this.setVisible();\n  };\n\n  /**\n   * Sets the anchor point of the label.\n   * @private\n   */\n  MarkerLabel_.prototype.setAnchor = function () {\n    var anchor = this.marker_.get(\"labelAnchor\");\n    this.labelDiv_.style.marginLeft = -anchor.x + \"px\";\n    this.labelDiv_.style.marginTop = -anchor.y + \"px\";\n    this.eventDiv_.style.marginLeft = -anchor.x + \"px\";\n    this.eventDiv_.style.marginTop = -anchor.y + \"px\";\n  };\n\n  /**\n   * Sets the position of the label. The z-index is also updated, if necessary.\n   * @private\n   */\n  MarkerLabel_.prototype.setPosition = function (yOffset) {\n    var position = this.getProjection().fromLatLngToDivPixel(this.marker_.getPosition());\n    if (typeof yOffset === \"undefined\") {\n      yOffset = 0;\n    }\n    this.labelDiv_.style.left = Math.round(position.x) + \"px\";\n    this.labelDiv_.style.top = Math.round(position.y - yOffset) + \"px\";\n    this.eventDiv_.style.left = this.labelDiv_.style.left;\n    this.eventDiv_.style.top = this.labelDiv_.style.top;\n\n    this.setZIndex();\n  };\n\n  /**\n   * Sets the z-index of the label. If the marker's z-index property has not been defined, the z-index\n   * of the label is set to the vertical coordinate of the label. This is in keeping with the default\n   * stacking order for Google Maps: markers to the south are in front of markers to the north.\n   * @private\n   */\n  MarkerLabel_.prototype.setZIndex = function () {\n    var zAdjust = (this.marker_.get(\"labelInBackground\") ? -1 : +1);\n    if (typeof this.marker_.getZIndex() === \"undefined\") {\n      this.labelDiv_.style.zIndex = parseInt(this.labelDiv_.style.top, 10) + zAdjust;\n      this.eventDiv_.style.zIndex = this.labelDiv_.style.zIndex;\n    } else {\n      this.labelDiv_.style.zIndex = this.marker_.getZIndex() + zAdjust;\n      this.eventDiv_.style.zIndex = this.labelDiv_.style.zIndex;\n    }\n  };\n\n  /**\n   * Sets the visibility of the label. The label is visible only if the marker itself is\n   * visible (i.e., its visible property is true) and the labelVisible property is true.\n   * @private\n   */\n  MarkerLabel_.prototype.setVisible = function () {\n    if (this.marker_.get(\"labelVisible\")) {\n      this.labelDiv_.style.display = this.marker_.getVisible() ? \"block\" : \"none\";\n    } else {\n      this.labelDiv_.style.display = \"none\";\n    }\n    this.eventDiv_.style.display = this.labelDiv_.style.display;\n  };\n\n  /**\n   * @name MarkerWithLabelOptions\n   * @class This class represents the optional parameter passed to the {@link MarkerWithLabel} constructor.\n   *  The properties available are the same as for <code>google.maps.Marker</code> with the addition\n   *  of the properties listed below. To change any of these additional properties after the labeled\n   *  marker has been created, call <code>google.maps.Marker.set(propertyName, propertyValue)</code>.\n   *  <p>\n   *  When any of these properties changes, a property changed event is fired. The names of these\n   *  events are derived from the name of the property and are of the form <code>propertyname_changed</code>.\n   *  For example, if the content of the label changes, a <code>labelcontent_changed</code> event\n   *  is fired.\n   *  <p>\n   * @property {string|Node} [labelContent] The content of the label (plain text or an HTML DOM node).\n   * @property {Point} [labelAnchor] By default, a label is drawn with its anchor point at (0,0) so\n   *  that its top left corner is positioned at the anchor point of the associated marker. Use this\n   *  property to change the anchor point of the label. For example, to center a 50px-wide label\n   *  beneath a marker, specify a <code>labelAnchor</code> of <code>google.maps.Point(25, 0)</code>.\n   *  (Note: x-values increase to the right and y-values increase to the top.)\n   * @property {string} [labelClass] The name of the CSS class defining the styles for the label.\n   *  Note that style values for <code>position</code>, <code>overflow</code>, <code>top</code>,\n   *  <code>left</code>, <code>zIndex</code>, <code>display</code>, <code>marginLeft</code>, and\n   *  <code>marginTop</code> are ignored; these styles are for internal use only.\n   * @property {Object} [labelStyle] An object literal whose properties define specific CSS\n   *  style values to be applied to the label. Style values defined here override those that may\n   *  be defined in the <code>labelClass</code> style sheet. If this property is changed after the\n   *  label has been created, all previously set styles (except those defined in the style sheet)\n   *  are removed from the label before the new style values are applied.\n   *  Note that style values for <code>position</code>, <code>overflow</code>, <code>top</code>,\n   *  <code>left</code>, <code>zIndex</code>, <code>display</code>, <code>marginLeft</code>, and\n   *  <code>marginTop</code> are ignored; these styles are for internal use only.\n   * @property {boolean} [labelInBackground] A flag indicating whether a label that overlaps its\n   *  associated marker should appear in the background (i.e., in a plane below the marker).\n   *  The default is <code>false</code>, which causes the label to appear in the foreground.\n   * @property {boolean} [labelVisible] A flag indicating whether the label is to be visible.\n   *  The default is <code>true</code>. Note that even if <code>labelVisible</code> is\n   *  <code>true</code>, the label will <i>not</i> be visible unless the associated marker is also\n   *  visible (i.e., unless the marker's <code>visible</code> property is <code>true</code>).\n   * @property {boolean} [raiseOnDrag] A flag indicating whether the label and marker are to be\n   *  raised when the marker is dragged. The default is <code>true</code>. If a draggable marker is\n   *  being created and a version of Google Maps API earlier than V3.3 is being used, this property\n   *  must be set to <code>false</code>.\n   * @property {boolean} [optimized] A flag indicating whether rendering is to be optimized for the\n   *  marker. <b>Important: The optimized rendering technique is not supported by MarkerWithLabel,\n   *  so the value of this parameter is always forced to <code>false</code>.\n   * @property {string} [crossImage=\"http://maps.gstatic.com/intl/en_us/mapfiles/drag_cross_67_16.png\"]\n   *  The URL of the cross image to be displayed while dragging a marker.\n   * @property {string} [handCursor=\"http://maps.gstatic.com/intl/en_us/mapfiles/closedhand_8_8.cur\"]\n   *  The URL of the cursor to be displayed while dragging a marker.\n   */\n  /**\n   * Creates a MarkerWithLabel with the options specified in {@link MarkerWithLabelOptions}.\n   * @constructor\n   * @param {MarkerWithLabelOptions} [opt_options] The optional parameters.\n   */\n  function MarkerWithLabel(opt_options) {\n    opt_options = opt_options || {};\n    opt_options.labelContent = opt_options.labelContent || \"\";\n    opt_options.labelAnchor = opt_options.labelAnchor || new gMapsApi.Point(0, 0);\n    opt_options.labelClass = opt_options.labelClass || \"markerLabels\";\n    opt_options.labelStyle = opt_options.labelStyle || {};\n    opt_options.labelInBackground = opt_options.labelInBackground || false;\n    if (typeof opt_options.labelVisible === \"undefined\") {\n      opt_options.labelVisible = true;\n    }\n    if (typeof opt_options.raiseOnDrag === \"undefined\") {\n      opt_options.raiseOnDrag = true;\n    }\n    if (typeof opt_options.clickable === \"undefined\") {\n      opt_options.clickable = true;\n    }\n    if (typeof opt_options.draggable === \"undefined\") {\n      opt_options.draggable = false;\n    }\n    if (typeof opt_options.optimized === \"undefined\") {\n      opt_options.optimized = false;\n    }\n    opt_options.crossImage = opt_options.crossImage || \"http\" + (document.location.protocol === \"https:\" ? \"s\" : \"\") + \"://maps.gstatic.com/intl/en_us/mapfiles/drag_cross_67_16.png\";\n    opt_options.handCursor = opt_options.handCursor || \"http\" + (document.location.protocol === \"https:\" ? \"s\" : \"\") + \"://maps.gstatic.com/intl/en_us/mapfiles/closedhand_8_8.cur\";\n    opt_options.optimized = false; // Optimized rendering is not supported\n\n    this.label = new MarkerLabel_(this, opt_options.crossImage, opt_options.handCursor); // Bind the label to the marker\n\n    // Call the parent constructor. It calls Marker.setValues to initialize, so all\n    // the new parameters are conveniently saved and can be accessed with get/set.\n    // Marker.set triggers a property changed event (called \"propertyname_changed\")\n    // that the marker label listens for in order to react to state changes.\n    gMapsApi.Marker.apply(this, arguments);\n  }\n  inherits(MarkerWithLabel, gMapsApi.Marker);\n\n  /**\n   * Overrides the standard Marker setMap function.\n   * @param {Map} theMap The map to which the marker is to be added.\n   * @private\n   */\n  MarkerWithLabel.prototype.setMap = function (theMap) {\n\n    // Call the inherited function...\n    gMapsApi.Marker.prototype.setMap.apply(this, arguments);\n\n    // ... then deal with the label:\n    this.label.setMap(theMap);\n  };\n\n  return MarkerWithLabel;\n}\n"]},"metadata":{},"sourceType":"script"}